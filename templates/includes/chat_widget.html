{% load static %}
<div id="ai-sidebar-trigger" onclick="toggleChat()">
    <div class="glow-wrap"></div>
    <img src="{% static 'ai_logo.png' %}" alt="AI Agent" class="ai-agent-logo">
</div>

<div id="ai-sidebar" class="glass-sidebar" style="display: none;">
    <div class="sidebar-header">
        <div class="agent-info">
            <div class="logo-mini-wrap">
                <img src="{% static 'ai_logo.png' %}" alt="AI" class="logo-mini">
            </div>
            <div>
                <h3 class="m-0 fs-5 fw-bold">Qwen Coder</h3>
                <div class="status-wrap">
                    <span class="status-dot"></span>
                    <span class="status-text">Thinking Agent</span>
                </div>
            </div>
        </div>
        <button class="btn-close-sidebar" onclick="toggleChat()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M18 6L6 18M6 6l12 12"></path>
            </svg>
        </button>
    </div>

    <div id="chat-messages" class="chat-viewport">
        <div class="ai-msg welcome-msg">
            <div class="msg-content">
                <p>Greetings. I am the <strong>Qwen Technical Agent</strong>, enhanced with your blog's context and
                    high-performance vector retrieval. How can I assist your development today?</p>
            </div>
        </div>
    </div>

    <div class="sidebar-footer">
        <div class="input-container-advanced">
            <textarea id="ai-user-input" rows="1" placeholder="Describe your technical challenge..."
                autocomplete="off"></textarea>
            <div class="input-actions">
                <span class="tokens-info">Qwen-2.5-Coder</span>
                <button id="ai-send-btn" onclick="sendMessage()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>